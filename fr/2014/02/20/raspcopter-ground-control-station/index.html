<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>Raspcopter - Station de contrôle au sol</title>
	<meta name="author" content="Florent Revest" />
	
    <link rel="stylesheet" href="/fr/stylesheet.css?20150826002521" type="text/css" media="screen" title="no title" charset="utf-8" />
    <link rel="stylesheet" href="/fr/resources/fancybox/fancybox.css" type="text/css" media="screen" title="no title" charset="utf-8">
	
    <script src="/fr/javascripts/main.js?20150826002521" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
   
      _gaq.push(['_setAccount', 'UA-50526189-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>

<body>
    <script type="text/javascript">
        var url = "/2014/02/20/raspcopter-ground-control-station";
        url = url.replace("/fr/", "/"); 
        document.write("<a href=\"" + url + "\"><div class=\"flag\">Read in english</div></a>");
    </script>


<div id="universe">
	
	<div id="header">
		<div id="title">
			<a href="/fr/blog.html">blog</a>
		</div>
		<div id="navigation">
			<a href="/fr/">Moi</a>
			<a href="/fr/blog.html" class="selected">Articles</a>
		</div>
		<div class="clear"></div>
	</div>
	
	<div class="post-world">
		<div class="post-item">
			<div class="post-meta">
			    <p class="date"><i>20</i><b>Feb</b></p>
			</div>

			<h1 class="post-title">
				Raspcopter - Station de contrôle au sol
				<div class="post-title-sub">
	                écrit par Florent Revest en 2014
				</div>
			</h1>

			<div class="post-content">
				<p><img src="http://pix.toile-libre.org/upload/original/1399577554.jpg" style="width: 100%; height: auto;"></img></p>

<p>Le réseau étant un bien gros morceau qui fait prendre pas mal de retard au projet sans résultats forcément visibles, aujourd'hui nous allons brièvement parler du logiciel PC de contrôle au sol. L'article n'a pas pour but d'être véritablement technique comme les précédents, mais seulement informatif.</p>

<h1>Un outil pratique</h1>

<p>Il existe déjà d'innombrable logiciels complets de stations de contrôle au sol de quadcopters, comme celui d'Ardupilot par exemple. Forker un de ces projets était possible mais finalement Raspcopter s'est doté de son propre logiciel client de vol.</p>

<p>Ce dernier est développé en C++ à l'aide du framework Qt, il est donc portable et facile à maintenir ou étendre.</p>

<h4>Un contrôleur</h4>

<p>Tout d'abord la première tache de cette station est d'agir en tant que contrôleur, c'est à dire de récolter les données d'un joystick. Ce dernier est un joystick de jeux vidéos standard acheté en magasin pour une dizaine d'euros. La lecture de ses données se fait directement par ioctl via l'<a href="https://www.kernel.org/doc/Documentation/input/joystick-api.txt">API noyau générique de contrôle de joystick</a>.</p>

<h4>Un client réseau</h4>

<p>Les données de ce joystick sont ensuite transférées au drone par le réseau via le réseau qui sera expliqué dans l'article suivant. Mais la station de contrôle est également capable de recevoir des données du quadcopter par le même moyen.</p>

<h4>Des données de télémétrie</h4>

<p>Les données recueillies depuis le quadcopter concernent principalement l'historique des positions angulaires du drone mais il est prévu à l'avenir de pouvoir également garder un oeil sur le pourcentage d'utilisation processeur et mémoire du Raspberry Pi.</p>

<p>Deux bibliothèques graphiques de tièrce partie très pratiques ont été utilisées pour l'affichage agréable des données télémétriques: <a href="http://qt-apps.org/content/show.php/AnalogWidgets?content=87780">AnalogWidgets</a> et <a href="http://www.qcustomplot.com/">QCustomPlot</a>. Grâce à ces dernières, il est possible de garder un oeil sur des cadrans et un graphique des données mesurées, et ce en temps réel directement depuis le sol. La station de contrôle implémente également une fonction d'export de ces données au format .csv, ouvrable par un tableur comme LibreOffice Calc pour des diagnostiques ultérieurs en cas de problème, ce qui <em>ne nous le cachons pas</em> arrivera très souvent.</p>

<h1>Le code source</h1>

<p>Comme le reste du projet, la station de contrôle est open-source et entièrement <a href="https://github.com/FlorentRevest/Raspcopter">retrouvable sur GitHub</a> dans le dossier laptop-client. N'hésitez pas à star le projet si vous le jugez utile. Et si vous avez des questions diverses et variées, n'oubliez pas que vous pouvez me contacter.</p>

			</div>
			
			<div class="post-comments">
				<div id="disqus_thread"></div><script type="text/javascript" src="http://florentrevest.disqus.com/embed.js"></script><noscript><a href="http://florentrevest.disqus.com/?url=ref">Voir les commentaires.</a></noscript>
			</div>
		</div>
	</div>
	
	<div class="sidebar">
	<div class="about-me">
		<h1>&nbsp;</h1>
		<img class="avatar" src="http://gravatar.com/avatar/bdd848257fce7eb848b301b2ee6e0f9e.jpg?s=50" alt="" />
		<div class="description">
			<p>
            Étudiant à l'INSA Toulouse, je suis passionné de programmation et de logiciels libres.
            <br><br>
                <i class="fa fa-envelope-square fa-fw"></i><td><script type="text/javascript">document.write("<n uers=\"znvygb:erirfgsyb@tznvy.pbz\">erirfgsyb@tznvy.pbz</n>".replace(/[a-zA-Z]/g, function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);}));</script></td>
                <i class="fa fa-github-square fa-fw"></i><a href="https://github.com/FlorentRevest">GitHub</a>
                <i class="fa fa-linkedin-square fa-fw"></i><a href="https://fr.linkedin.com/pub/florent-revest/bb/842/653">LinkedIn</a> <br>
                <i class="fa fa-twitter-square fa-fw"></i><a href="https://twitter.com/xenon132">Twitter</a>
                <i class="fa fa-flickr fa-fw"></i><a href="https://www.flickr.com/photos/florent_revest/">Flickr</a>
                <i class="fa fa-pencil-square fa-fw"></i><a href="irc://kido@irc.freenode.net">kido@irc.freeenode.net</a>
                <br><br>
		    </p>
	    </div>
	<div class="section recent-articles">
		<h2>Articles Récents</h2>
		<dl class="labels">
			
				<dt>02 Jul</dt>
                <dd><a href="/fr/2014/07/02/raspcopter-new-pid-test-rig" class="title">Raspcopter - Nouveau banc d'essai pour la configuration PID</a></dd>
			
				<dt>25 Jun</dt>
                <dd><a href="/fr/2014/06/25/raspcopter-first-fly-video" class="title">Raspcopter - Premiers tests de la configuration PID en vidéo</a></dd>
			
				<dt>20 May</dt>
                <dd><a href="/fr/2014/05/20/raspcopter-pid-crash" class="title">Raspcopter - Premier crash</a></dd>
			
				<dt>30 Apr</dt>
                <dd><a href="/fr/2014/04/30/raspcopter-network" class="title">Raspcopter - Communication réseau</a></dd>
			
				<dt>20 Feb</dt>
                <dd><a href="/fr/2014/02/20/raspcopter-ground-control-station" class="title">Raspcopter - Station de contrôle au sol</a></dd>
			
				<dt>15 Dec</dt>
                <dd><a href="/fr/2013/12/15/raspcopter-first-video" class="title">Raspcopter - Première vidéo</a></dd>
			
				<dt>16 Nov</dt>
                <dd><a href="/fr/2013/11/16/raspcopter-motors" class="title">Raspcopter - Contrôle des moteurs</a></dd>
			
				<dt>30 Oct</dt>
                <dd><a href="/fr/2013/10/30/raspcopter-pid" class="title">Raspcopter - Régulateur PID (Proportionnel Intégral Dérivé)</a></dd>
			
			<dt>&nbsp;</dt>
            <dd><a href="/fr/archive.html">Tout voir &rarr;</a></dd>
		</dl>
	</div>
</div>

<div class="clear"></div>

	
</div>

</body>
</html>

